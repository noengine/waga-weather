---
- name: Import InfluxDB GPG signing key
  become: yes
  apt_key:
    url: https://repos.influxdata.com/influxdb.key
    state: present

- name: Add InfluxDB repository
  become: yes
  apt_repository:
    repo: deb https://repos.influxdata.com/debian {{ ansible_lsb.codename }} stable
    state: present

- name: Add WeeWX repo key
  become: yes
  apt_key:
    url: http://weewx.com/keys.html
    state: present

- name: Add WeeWX repo
  become: yes
  apt_repository:
    # at the time of writing this code bullseye was not available - hence buster
    repo: deb [arch=all] http://weewx.com/apt/python3 buster main
    state: present
